<template name="phone">
    <div class="content" style="overflow-y: overlay">
        <div class="title phone-title">
			<h2>{{_ "webRTC_Phone"}}</h2>
        </div>
		<div class="phone-video" id="phone-video">
			<nav>
				<div class="phone-utility-buttons">
					<button class='button primary' id="phone-redial" title="{{_ 'Redial'}}"><i class="icon-arrows-cw"></i></button>
					<button class='button primary' id="phone-clear" title="{{_ 'Clear'}}"><i class="icon-eraser"></i></button>
					<button class='button primary' id="phone_settings" title="{{_ 'Settings'}}"><i class="icon-tools"></i></button>
					<button class='button primary' id="phone_personal_registry" title="{{_ 'Registry'}}"><i class="icon-list"></i></button>
				</div>
				{{#if displayCallStatus}}
				<div class="phone-utility-buttons">
					<button class='button primary {{onHold}}' id="phone-hold" title="{{_ 'Hold_Toggle'}}"><i class="icon-h-sigh"></i></button>
					<button class='button primary {{isMuted}}' id="phone-mute" title="{{_ 'Mute'}}"><i class="icon-mute"></i></button>
					<button class='button primary' id="phone-transfer" title="{{_ 'Transfer'}}"><i class="icon-fork"></i></button>
					<button class='button primary' id="phone-fullscreen" title="{{_ 'Fullscreen'}}"><i class="icon-resize-full"></i></button>
				</div>
				{{/if}}
			</nav>
			<div class="phone-streaming" id="phone-streaming">
				<div class="phone-fullscreen-buttons">
					<button class="icon-phone" id="phone-fullscreen-hold"></button>
					<button class="icon-mute" id="phone-fullscreen-mute"></button>
				</div>
			</div>
		</div>
		{{#if displayCallStatus}}
		<div class="phone-notifications">
			<div class="thumb">
				{{> avatar username=callCidNameOrNum}}
			</div>
			<div class="phone-notification-content">
				<div class="callOperation">
					{{callOperation}}
				</div>
				{{#if callIsAnswered}}
				<div class="callDuration">
					{{callDuration}}
				</div>
				{{/if}}
				<div class="callContact">
					{{callCidNum}}&nbsp;{{callCidName}}
				</div>
			</div>
		</div>
		{{/if}}
		<div class="phone-operations-container">
			<div class="phone-display-container">
				<input type="text" class="phone-display" id="phone-display" autocomplete="off" value={{phoneDisplay}}>
			</div>
			{{#if callIsActive}}
			<div class="call-buttons-container">
                <button class='button primary red-hook red-hook-big' id="phone-hangup"><i class="icon-phone"></i></button>
			</div>
			{{/if}}
			{{#if callIsRinging}}
			<div class="call-buttons-container">
				<button class='button primary green-hook' id="phone-dial"><i class="icon-phone"></i></button>
				{{#if videoEnabled}}
				<button class='button primary green-hook' id="phone-video-dial"><i class="icon-videocam"></i></button>
				{{/if}}
                <button class='button primary red-hook' id="phone-hangup"><i class="icon-phone"></i></button>
			</div>
			{{/if}}
			{{#if callIsIdle}}
			<div class="call-buttons-container">
				<button class='button primary green-hook' id="phone-dial"><i class="icon-phone"></i></button>
				{{#if videoEnabled}}
				<button class='button primary green-hook' id="phone-video-dial"><i class="icon-videocam"></i></button>
				{{/if}}
			</div>
			{{/if}}
		</div>
        <nav>
            <div class="phone-call-buttons">
                <button class='button primary dialkey' value="1">1</button>
                <button class='button primary dialkey' value="2">2</button>
                <button class='button primary dialkey' value="3">3</button>
            </div>
            <div class="phone-call-buttons">
                <button class='button primary dialkey' value="4">4</button>
                <button class='button primary dialkey' value="5">5</button>
                <button class='button primary dialkey' value="6">6</button>
            </div>
            <div class="phone-call-buttons">
                <button class='button primary dialkey' value="7">7</button>
                <button class='button primary dialkey' value="8">8</button>
                <button class='button primary dialkey' value="9">9</button>
            </div>
            <div class="phone-call-buttons">
                <button class='button primary dialkey' value="*"><i class="icon-asterisk"></i></button>
                <button class='button primary dialkey' value="0">0</button>
                <button class='button primary dialkey' value="#"><i class="icon-hash"></i></button>
            </div>
        </nav>
		<div>
			{{#if showSettings}}
				{{> phoneSettings ""}}
			{{/if}}
		</div>
		<div class='phone-search-container'>
			{{#if contactsLoading}}
				{{> loading}}
			{{/if}}
			{{#if searchResult}}
				{{> phoneSearch contacts=searchResult}}
			{{/if}}
		</div>
		<div>
			{{#if showRegistry}}
				{{> phoneRegistry listcalls=listRegistry}}
			{{/if}}
		</div>
    </div>
</template>
