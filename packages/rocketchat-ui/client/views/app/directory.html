<template name="directory">
	<section class="rc-directory">
		{{# header sectionName="Directory" hideHelp=true}}
		<div class="rc-directory-header">
		<select class="rc-input__element rc-directory-selector js-typeSelector" name="type">
				<option value="channels">{{_ "Channels"}}</option>
				<option value="users">{{_ "Users"}}</option>
			</select>
			<div class="rc-input rc-input--small rc-directory-search">
				<label class="rc-input__label">
					<div class="rc-input__wrapper">
						{{> icon icon="magnifier" block="rc-input__icon" }}
						<input type="text" class="rc-input__element rc-input__element--small js-search" name="message-search" id="message-search" placeholder={{#if $eq searchType 'channels'}}{{_ "Search_Channels"}}{{/if}}{{#if $eq searchType 'users'}}{{_ "Search_Users"}}{{/if}} autocomplete="off">
					</div>
				</label>
			</div>
			{{#if createChannelOrGroup}}
				<button class="rc-button rc-button--small rc-button--primary rc-directory-plus">{{> icon icon="plus" }}</button>
			{{/if}}
		</div>
		{{/header}}
		<div class="rc-directory-content">
			{{#if $eq searchType 'channels'}}
				{{#table fixed='true'}}
					<thead>
						<tr>
							<th class="js-sort" data-sort="name">{{_ "Name"}} {{> icon icon=(sortIcon 'name')}}</th>
							<th class="rc-directory-td--users">{{_ "Users"}}</th>
							<th class="js-sort rc-directory-td--createdAt" data-sort="createdAt">{{_ "Created_at"}} {{> icon icon=(sortIcon 'createdAt') }}</th>
						</tr>
					</thead>
					<tbody>
						{{#each searchResults}}
							<tr data-name="{{name}}">
								<td>
									<div class="rc-directory-channel-wrapper">
										<div class="rc-directory-channel-avatar">{{> avatar username=name roomIcon="true"}}</div>
										<div class="rc-directory-channel-info">
											<span class="rc-directory-channel-name">
												{{>icon icon="hashtag"}}
												{{name}}
											</span>
											{{#if description}}
												<span class="rc-directory-channel-description">{{description}}</span>
											{{/if}}
										</div>
									</div>
								</td>
								<td class="rc-directory-td--users">{{users}}</td>
								<td class="rc-directory-td--createdAt">
									<span class="rc-directory-channel-createdAt">{{createdAt}}</span>
								</td>
							</tr>
						{{/each}}
					</tbody>
				{{/table}}
			{{/if}}
			{{#if $eq searchType 'users'}}
				{{#table}}
					<thead>
						<tr>
							<th class="js-sort" data-sort="name">{{_ "Name"}} {{> icon icon="sort" }}</th>
							<th class="js-sort" data-sort="username">{{_ "Username"}} {{> icon icon="sort" }}</th>
							<th class="js-sort" data-sort="createdAt">{{_ "Created_at"}} {{> icon icon="sort" }}</th>
						</tr>
					</thead>
					<tbody>
						{{#each searchResults}}
							<tr data-name="{{name}}">
								<td>
									<div class="rc-directory-channel-wrapper">
										<div class="rc-directory-channel-avatar">{{> avatar username=username}}</div>
										<div class="rc-directory-channel-info">
											<span class="rc-directory-channel-username">
												{{>icon icon="at"}}{{username}}
											</span>
										</div>
									</div>
								</td>
								<td>{{name}}</td>
								<td>
									<span class="rc-directory-channel-createdAt">{{createdAt}}</span>
								</td>
							</tr>
						{{/each}}
					</tbody>
				{{/table}}
			{{/if}}
		</div>
	</section>
</template>
