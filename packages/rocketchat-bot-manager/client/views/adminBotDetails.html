<template name="adminBotDetails">
	<section class="page-container page-home page-static page-settings">
		{{#header sectionName=pageTitle buttons=true}}
    <div class="rc-header__section-button">
      <button class="rc-button rc-button--cancel delete" disabled="{{not canDelete}}"><span>{{_ "Delete_account"}}</span></button>
      <button class="rc-button rc-button--primary save" disabled="{{not isChanged}}"><span>{{_ "Save_changes"}}</span></button>
    </div>
		{{/header}}

		<div class="content background-transparent-dark">
			<a href="{{pathFor "admin-bots"}}"><i class="icon-angle-left"></i> {{_ "Back_to_bots"}}</a><br><br>
			{{#unless hasPermission}}
				<p>{{_ "You_are_not_authorized_to_view_this_page"}}</p>
			{{else}}
				<div class="rocket-form">
					<div class="section">
						<div class="section-title">
							<div class="section-title-text">{{_ "Bot_details"}} - {{getName}}</div>
							<div class="section-title-right">
								<button class="button primary collapse"><span>{{_ "Collapse"}}</span></button>
							</div>
						</div>
						<div class="section-content">
              <div class="input-line double-col">
                <label>{{_ "Status"}}</label>
                <div>
                  {{#if isOnline}}
                    <button class="button primary resume" disabled="{{not isPaused}}"><span>{{_ "Resume"}}</span></button>
                    <button class="button primary pause danger" disabled="{{isPaused}}"><span>{{_ "Pause"}}</span></button>
                  {{else}}
                    <div class="settings-description">{{_ "Offline"}}</div>
                  {{/if}}
                </div>
              </div>
              <div class="input-line double-col">
                <label>{{_ "Profile_picture"}}</label>
                <div class="rc-select-avatar">
                  <div class="rc-select-avatar__preview">
                    {{> avatar username=getUsername}}
                  </div>
                  <div class="rc-select-avatar__list">
                    <div class="rc-select-avatar__list-item rc-tooltip js-select-avatar-initials" aria-label="{{_ "initials_avatar" }}">
                      {{> avatar username=getUsername }}
                    </div>
                    <div class="rc-select-avatar__list-item rc-tooltip js-select-avatar-upload" aria-label="{{_ "Upload_user_avatar" }}">
                      <label class="rc-select-avatar__upload-label avatar" for="upload-avatar">
                        {{> icon block="rc-select-avatar__upload-icon" icon="upload"}}
                      </label>
                      <input type="file" name="" value="" id="upload-avatar" style="display:none;" accept="image/x-png,image/gif,image/jpeg">
                    </div>
                    <div class="rc-select-avatar__list-item rc-tooltip js-select-avatar-url {{selectUrl}}"  aria-label="{{_ "Use_url_for_avatar" }}">
                      <label class="rc-select-avatar__upload-label avatar">
                        {{> icon block="rc-select-avatar__upload-icon" icon="permalink"}}
                      </label>
                    </div>
                    <div class="rc-input">
                      <label class="rc-input__label">
                        <div class="rc-input__title">{{_ "Use_url_for_avatar"}}</div>
                        <div class="rc-input__wrapper">
                          <input name="avatar_url" class="rc-input__element js-avatar-url-input" placeholder="{{_ "Use_url_for_avatar"}}">
                        </div>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
              <div class="input-line double-col">
                <label>{{_ "Name"}}</label>
                <div>
                  <input type="text" class="rc-input__element" name="name" value="{{getName}}" />
                  <div class="settings-description">{{_ "Bot_name"}}</div>
                </div>
              </div>
              <div class="input-line double-col">
                <label>{{_ "Username"}}</label>
                <div>
                  <input type="text" class="rc-input__element" name="username" value="{{getUsername}}" />
                  <div class="settings-description">{{_ "Bot_username"}}</div>
                </div>
              </div>
              <div class="input-line double-col">
                <label>{{_ "Password"}}</label>
                <div>
                  <input name="password" class="rc-input__element" type="password" autocomplete="off" value=""/>
                  <div class="settings-description">{{_ "Bot_password"}}</div>
                </div>
              </div>
              <div class="input-line double-col">
                <label>{{_ "Bot_framework"}}</label>
                <div>
                  <div class="settings-description">{{getFramework}}</div>
                </div>
              </div>
              {{#if isOnline}}
                <div class="input-line double-col">
                  <label>{{_ "Connection_status"}}</label>
                  <div>
                    <div class="settings-description">{{ipAddress}}</div>
                    <div class="settings-description">{{ping}}</div>
                  </div>
                </div>
                <div class="input-line double-col">
                  <label>{{_ "Uptime"}}</label>
                  <div>
                    <div class="settings-description">{{connectedUptime}}</div>
                    <div class="settings-description">{{activeUptime}}</div>
                  </div>
                </div>
              {{/if}}
              <div class="input-line double-col">
                <label>{{_ "Roles"}}</label>
                <ul id="roles" class="chip-container current-user-roles">
                  {{#each getRoles}}
                  <li class="remove-role" title="{{this}}"><i class="icon icon-cancel-circled"></i>{{this}}</li>
                  {{/each}}
                </ul>
              </div>
              <div class="input-line double-col">
                <label>{{_ "Add_Role"}}</label>
                {{#let roles=rolesCursor}}
                <select id="roleSelect" class="rc-input rc-form-item-inline rc-input--small" {{disabled rolesCursor}}>
                  <option value="placeholder" disabled selected>{{_ "Select_role"}}</option>
                  {{#each roles}}
                  <option value="{{_id}}">{{roleName}}</option>
                  {{/each}}
                </select>
                {{/let}}
                <button id="addRole" class="rc-button rc-button--primary rc-form-item-inline" {{disabled rolesCursor}}>{{_ 'Add_Role'}}</button>
              </div>
						</div>
					</div>
          <div class="section section-collapsed">
            <div class="section-title">
              <div class="section-title-text">{{_ "Bot_statistics"}}</div>
              <div class="section-title-right">
                <button class="button primary expand"><span>{{_ "Expand"}}</span></button>
              </div>
            </div>
            <div class="section-content">
            </div>
          </div>
				</div>
			{{/unless}}
		</div>
	</section>
</template>
